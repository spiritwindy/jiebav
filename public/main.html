<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <textarea id="text"></textarea>
    <button id="split">分词</button>
    <div id="res"></div>
    <style>
        textarea{
            width: 100%;
            height: 400px;
        }
        table,tr,td,tbody,thead{
            border-collapse: collapse;
            border:1px solid black;;
        }
    </style>
    <script>
        async function show(params) {
                let d = document.querySelector("#text").value

                var w = await fetch("/", {
                    method: "post",
                    mode: "cors",
                    body: JSON.stringify({
                        text: d
                    }),
                    headers: {
                        'Content-Type': 'application/json',
                    }
                })
                const d1 = await w.json()
                console.log(d1)
                showTable(d1)
                // document.querySelector("#res").innerText = JSON.stringify(d1,null,4)

            }
            document.querySelector("#split").addEventListener("click",function(params) {
            
                show()
            })
            
           function  showTable(data){

               // 创建表格元素
               const table = document.createElement('table');

               // 创建表头
               const thead = table.createTHead();
               const tr = thead.insertRow();
               const th1 = tr.insertCell();
               const th2 = tr.insertCell();
               th1.innerHTML = "<b>单词</b>";
               th2.innerHTML = "<b>权重</b>";

               // 创建表格内容
               const tbody = table.createTBody();
               for (let i = 0; i < data.length; i++) {
                   const tr = tbody.insertRow();
                   const td1 = tr.insertCell();
                   const td2 = tr.insertCell();
                   td1.innerText = data[i].word;
                   td2.innerText = data[i].weight;
               }

               // 将表格添加到DOM中
               document.body.appendChild(table);

           }
            // show()
    </script>
</body>
</html>